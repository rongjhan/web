"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk"] = self["webpackChunk"] || []).push([["importData_util-_parseDataType-mjs"],{

/***/ "./src/mod_source/util/_parseDataType.mjs":
/*!************************************************!*\
  !*** ./src/mod_source/util/_parseDataType.mjs ***!
  \************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"parseDataType\": function() { return /* binding */ parseDataType; }\n/* harmony export */ });\n/* harmony import */ var _util_num_toNumber_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util_num/toNumber.mjs */ \"./src/util_num/toNumber.mjs\");\n/* harmony import */ var _util_num_isNumber_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util_num/isNumber.mjs */ \"./src/util_num/isNumber.mjs\");\n/* harmony import */ var _util_time_toDate_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util_time/toDate.mjs */ \"./src/util_time/toDate.mjs\");\n\r\n\r\n\r\n\r\n\r\nfunction parseDataType(array,mode=\"number\",locales=[\"en\"],dateTimeFormats=[\"YYYY-MM-DD\"]){\r\n    if(mode===\"none\"){return array}\r\n    \r\n    var header = array.splice(0,1)[0]\r\n    var result\r\n    switch (mode){\r\n        case \"number\":\r\n            result =  array.map(function(row){\r\n                return row.map(function(el){return (0,_util_num_toNumber_mjs__WEBPACK_IMPORTED_MODULE_0__.toNumber)(el,locales)})\r\n            });break\r\n        case \"dateTime\":\r\n            result =  array.map(function(row){\r\n                return row.map(function(el){return (0,_util_time_toDate_mjs__WEBPACK_IMPORTED_MODULE_2__.toDatetime)(el,dateTimeFormats,locales[0])})\r\n            });break\r\n        case \"num?date\":\r\n            result =  array.map(function(row){\r\n                return row.map(function(el){\r\n                    var testReport = (0,_util_num_isNumber_mjs__WEBPACK_IMPORTED_MODULE_1__.isNumber)(el,locales)\r\n                    if(testReport[0]){return (0,_util_num_toNumber_mjs__WEBPACK_IMPORTED_MODULE_0__.toNumber)(el,locales,testReport)}\r\n                    return (0,_util_time_toDate_mjs__WEBPACK_IMPORTED_MODULE_2__.toDatetime)(el,dateTimeFormats,locales[0])\r\n                })\r\n            });break\r\n    }\r\n    \r\n    console.log(result)\r\n    result.unshift(header)\r\n    console.log(JSON.stringify(result))\r\n    return result\r\n}\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/mod_source/util/_parseDataType.mjs?");

/***/ }),

/***/ "./src/util_data/escapeRegExp.mjs":
/*!****************************************!*\
  !*** ./src/util_data/escapeRegExp.mjs ***!
  \****************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"escapeRegExp\": function() { return /* binding */ escapeRegExp; }\n/* harmony export */ });\nfunction escapeRegExp(string,get=\"group\") {\r\n    var escapedString = string.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&') //$& means the whole matched string\r\n    switch(get){\r\n        case \"group\":\r\n            return `(${escapedString})`\r\n        case \"set\":\r\n            return `[${escapedString}]`\r\n    }\r\n}\r\n\r\n\n\n//# sourceURL=webpack:///./src/util_data/escapeRegExp.mjs?");

/***/ }),

/***/ "./src/util_num/initNumeral.mjs":
/*!**************************************!*\
  !*** ./src/util_num/initNumeral.mjs ***!
  \**************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"locales\": function() { return /* binding */ locales; },\n/* harmony export */   \"numeral\": function() { return /* reexport default export from named module */ numeral__WEBPACK_IMPORTED_MODULE_0__; }\n/* harmony export */ });\n/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! numeral */ \"../node_modules/numeral/numeral.js\");\n/* harmony import */ var numeral_locales_chs_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! numeral/locales/chs.js */ \"../node_modules/numeral/locales/chs.js\");\n\r\n  //引入即代表register該locale(看引入方法即知是sideEffect module)\r\n//或者直接引入\"numeral/locales.js\" 會register所有內建支持的locale\r\nnumeral__WEBPACK_IMPORTED_MODULE_0__.register('locale', \"zh-tw\", {\r\n    delimiters: {\r\n        thousands: ',',\r\n        decimal: '.'\r\n    },\r\n    abbreviations: {\r\n        thousand: '千',\r\n        million: '百萬',\r\n        billion: '十億',\r\n        trillion: '兆'\r\n    },\r\n    ordinal: function (number) {\r\n        return '.';\r\n    },\r\n    currency: {\r\n        symbol: 'NT$'\r\n    }\r\n});//numeral 無內建台灣locale 需自行設置,locale預設為en,因此en不必特別register\r\n\r\nnumeral__WEBPACK_IMPORTED_MODULE_0__.fn.toString = function(){\r\n    return \"N:\"+this._input\r\n}//目前沒用到\r\n\r\nvar locales = { //為了統一 numeraljs 和 dayjs locale的寫法\r\n    \"zh-CN\":\"chs\",\r\n    \"en\":\"en\",\r\n    \"zh-TW\":\"zh-tw\"\r\n}\r\n\r\n\n\n//# sourceURL=webpack:///./src/util_num/initNumeral.mjs?");

/***/ }),

/***/ "./src/util_num/isNumber.mjs":
/*!***********************************!*\
  !*** ./src/util_num/isNumber.mjs ***!
  \***********************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"isNumber\": function() { return /* binding */ isNumber; }\n/* harmony export */ });\n/* harmony import */ var _util_data_escapeRegExp_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util_data/escapeRegExp.mjs */ \"./src/util_data/escapeRegExp.mjs\");\n/* harmony import */ var _initNumeral_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./initNumeral.mjs */ \"./src/util_num/initNumeral.mjs\");\n\r\n\r\n//不直接從node_module引入numeraljs  因為initnumeral中有引入plugin等的作用\r\n//(module的add plugin sideEffect只會被執行一次,即使重複被不同模組import)\r\n\r\nfunction _isNumber(string,locale){ //numeral.validate無法滿足需求故自建\r\n    //雖然numeral支持解析foamt成時間但不打算支持,而科學記號等待未來添加\r\n    if(!string.match(/\\d/)){return false}  //若不存在數字字元,則直接返回false\r\n    var localeData = _initNumeral_mjs__WEBPACK_IMPORTED_MODULE_1__.numeral.localeData(_initNumeral_mjs__WEBPACK_IMPORTED_MODULE_1__.locales[locale]) \r\n    var array = string.trim().split(\"\")\r\n    var firstDigitIndex = array.findIndex((i)=>!isNaN(parseInt(i)))\r\n    var lastDigitIndex = -([...array].reverse().findIndex((i)=>!isNaN(parseInt(i))))-1\r\n\r\n    if(!(()=>{ //validateBody\r\n        var body =array.slice(firstDigitIndex,lastDigitIndex===-1?undefined:lastDigitIndex+1).join(\"\")\r\n        var decimal = (0,_util_data_escapeRegExp_mjs__WEBPACK_IMPORTED_MODULE_0__.escapeRegExp)(localeData.delimiters.decimal)\r\n        var thousands = (0,_util_data_escapeRegExp_mjs__WEBPACK_IMPORTED_MODULE_0__.escapeRegExp)(localeData.delimiters.thousands)\r\n        var thousandReg = new RegExp(`${thousands}(\\\\d{0,2}$|\\\\d{0,2}\\\\D|\\\\d{4,})`)\r\n        var decimalReg = new RegExp(`${decimal}(?=.*\\\\D+)`)\r\n        if(!body.match(/[^\\d\\,\\.]/)){//沒找到非[\\d\\,\\.]中字元則繼續檢查\r\n            return !(thousandReg.test(body)||decimalReg.test(body))\r\n            //  /\\,(\\d{0,2}$|\\d{0,2}\\D|\\d{4,})/ 表示若逗號後面出現的並非剛好連續三個數字,則非合格逗號\r\n            //  /\\.(?=.*\\D+)/  表示小數點後不能出現非數字字元(同時也保證了小數點只有一個)\r\n        }\r\n        return false\r\n    })()){return false}\r\n\r\n    if(!(()=>{  //validateHeader\r\n        var header = array.slice(0,firstDigitIndex)\r\n        var currencySymbol = (0,_util_data_escapeRegExp_mjs__WEBPACK_IMPORTED_MODULE_0__.escapeRegExp)(localeData.currency.symbol)\r\n        if(header.length<2){return new RegExp(`^([\\\\+\\\\(-]?${currencySymbol}?)$`).test(header.join(\"\"))}\r\n        //若少於兩個字元且當locale為en時 必然是^([\\+\\(\\-]?\\$?)$這個形式\r\n        return false\r\n    })()){return false}\r\n\r\n\r\n    if(!(()=>{ //validateTail\r\n        var units = []\r\n        for(let unit in localeData.abbreviations){units.push((0,_util_data_escapeRegExp_mjs__WEBPACK_IMPORTED_MODULE_0__.escapeRegExp)(unit))}\r\n        var unitSet = `(${units.join(\"|\")})`\r\n        var tail = array.slice(lastDigitIndex,lastDigitIndex===-1?-1:undefined).join(\"\")\r\n        return new RegExp(`^(${unitSet}?|%?)$`).test(tail)\r\n        // ^([mkbt]|%)$  當locale為en時,regexp表示僅能存在這些字元 且單位與%二選一\r\n    })()){return false}\r\n\r\n\r\n    return true\r\n}\r\n\r\n\r\nfunction isNumber(string,locales=[\"en\"]){\r\n    var fitLocale\r\n    for(let locale of locales){if(_isNumber(string,locale)){fitLocale=locale;break}}\r\n    return [fitLocale?true:false,fitLocale]\r\n}\r\n\r\n\r\n\r\n\r\n\r\n// var b = numeral(\"$10000\")\r\n// console.log(numeral.localeData(numeral.locale()))\r\n// console.log(numeral.validate(\"10m\"),numeral(\"1mm\"))\r\n// numeral.nullFormat('N/A');\r\n// console.log(numeral.options)\r\n// var a =numeral(1000000).format(\"$0,0.00a\")\r\n//https://npmdoc.github.io/node-npmdoc-numeral/build/apidoc.html\r\n//https://www.elastic.co/guide/en/kibana/current/numeral.html#_displaying_abbreviated_numbers\r\n//https://npmdoc.github.io/node-npmdoc-numeral/build/apidoc.html\n\n//# sourceURL=webpack:///./src/util_num/isNumber.mjs?");

/***/ }),

/***/ "./src/util_num/toNumber.mjs":
/*!***********************************!*\
  !*** ./src/util_num/toNumber.mjs ***!
  \***********************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"toNumber\": function() { return /* binding */ toNumber; }\n/* harmony export */ });\n/* harmony import */ var _initNumeral_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./initNumeral.mjs */ \"./src/util_num/initNumeral.mjs\");\n/* harmony import */ var _isNumber_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./isNumber.mjs */ \"./src/util_num/isNumber.mjs\");\n\r\n\r\n\r\nfunction toNumber(string,locales=[\"en\"],testReport){ \r\n    //testReport would be undefined or [validation,fitLocale]\r\n    //testReport is used when tested numberString outSide this function \r\n    switch(typeof string){\r\n        case \"number\":\r\n            return string\r\n        case \"string\":\r\n            var [validation,fitLocale] = testReport||(0,_isNumber_mjs__WEBPACK_IMPORTED_MODULE_1__.isNumber)(string,locales)\r\n\r\n            if(!validation){return string} //若無法轉成數字則不轉型直接返回\r\n\r\n            _initNumeral_mjs__WEBPACK_IMPORTED_MODULE_0__.numeral.locale(_initNumeral_mjs__WEBPACK_IMPORTED_MODULE_0__.locales[fitLocale])\r\n            return (0,_initNumeral_mjs__WEBPACK_IMPORTED_MODULE_0__.numeral)(string).value()//返回原始物件才可緩存於indexeddb或傳遞給dataOps\r\n        default:\r\n            throw \"firstParam should be string or number\"\r\n    }\r\n}\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/util_num/toNumber.mjs?");

/***/ }),

/***/ "./src/util_time/initDayjs.mjs":
/*!*************************************!*\
  !*** ./src/util_time/initDayjs.mjs ***!
  \*************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"dayjs\": function() { return /* reexport default export from named module */ dayjs__WEBPACK_IMPORTED_MODULE_0__; },\n/* harmony export */   \"locales\": function() { return /* binding */ locales; }\n/* harmony export */ });\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dayjs */ \"../node_modules/dayjs/dayjs.min.js\");\n/* harmony import */ var _parseFormat_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parseFormat.mjs */ \"./src/util_time/parseFormat.mjs\");\n/* harmony import */ var dayjs_plugin_localeData_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! dayjs/plugin/localeData.js */ \"../node_modules/dayjs/plugin/localeData.js\");\n/* harmony import */ var dayjs_plugin_updateLocale_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! dayjs/plugin/updateLocale.js */ \"../node_modules/dayjs/plugin/updateLocale.js\");\n/* harmony import */ var dayjs_locale_zh_tw_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! dayjs/locale/zh-tw.js */ \"../node_modules/dayjs/locale/zh-tw.js\");\n/* harmony import */ var dayjs_locale_zh_cn_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! dayjs/locale/zh-cn.js */ \"../node_modules/dayjs/locale/zh-cn.js\");\n //intl於ie11支援度不好因此此處不採用\r\n \r\n//若無引入此plugin,則僅能解析用/或-分隔年月日 並於日期和時間用[T t \\s]分隔  時間間用:分隔,也是不傳入format預設行為\r\n//引入後可以用[- : . ( ) \\s]當作分隔符號,當然要傳入該format參數\r\n\r\n\r\n //引入即代表register該locale(看引入方法即知是sideEffect module)\r\n\r\n\r\ndayjs__WEBPACK_IMPORTED_MODULE_0__.extend(dayjs_plugin_updateLocale_js__WEBPACK_IMPORTED_MODULE_3__)\r\ndayjs__WEBPACK_IMPORTED_MODULE_0__.extend(_parseFormat_mjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"])\r\ndayjs__WEBPACK_IMPORTED_MODULE_0__.extend(dayjs_plugin_localeData_js__WEBPACK_IMPORTED_MODULE_2__)\r\n\r\ndayjs__WEBPACK_IMPORTED_MODULE_0__.updateLocale(\"zh-tw\",{\r\n    parse:{\r\n        localeEraShort:[/\\d{1,3}/,function(input){console.log(input);this.year = 1911+(+input)}], //對應format為yy\r\n        localeEra:[/民國\\d{1,3}/,function(input){console.log(input);this.year = 1911+(+input.slice(2))}] //對應format為yyyy\r\n    }\r\n})//支持民國紀年的輸入\r\n\r\n\r\nvar locales ={\r\n    \"en\":\"en\",\r\n    \"zh-TW\":\"zh-tw\",\r\n    \"zh-CN\":\"zh-cn\"\r\n}\r\n\r\n\r\ndayjs__WEBPACK_IMPORTED_MODULE_0__.prototype.toString = function(){\r\n    return this.format(\"YYYY-MM-DD HH:mm:ss\") //改成excel讀得懂的日期格式\r\n    // return this.$d.toUTCString() 原本預設行為,this.$d是jd Date物件\r\n}\r\n\r\n\r\n//新增Plugin 和 wrapper\r\n\r\n\n\n//# sourceURL=webpack:///./src/util_time/initDayjs.mjs?");

/***/ }),

/***/ "./src/util_time/parseFormat.mjs":
/*!***************************************!*\
  !*** ./src/util_time/parseFormat.mjs ***!
  \***************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n//改自costumParseFormat這個plugin, 修改處為(第11行)  新增處為(150-159行,190行)\r\n//為了增加各國本地紀年支持(本地紀年foramt是yyyy或yy),但locale中要有設置parse屬性,可透過updateLocale這個plugin定義該屬性\r\n\r\nfunction u(formatStr, formats) {\r\n    return formatStr.replace(/(\\[[^\\]]+])|(LTS?|l{1,4}|L{1,4})/g, function (_, a, b) {\r\n        var B = b && b.toUpperCase();\r\n        return a || formats[b] || englishFormats[b] || t(formats[B]);\r\n    });\r\n};\r\n\r\nvar formattingTokens = /(\\[[^[]*\\])|([-:/.()\\s]+)|(A|a|YYYY|YY?|yyyy|yy|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g;\r\nvar match1 = /\\d/; // 0 - 9\r\n\r\nvar match2 = /\\d\\d/; // 00 - 99\r\n\r\nvar match3 = /\\d{3}/; // 000 - 999\r\n\r\nvar match4 = /\\d{4}/; // 0000 - 9999\r\n\r\nvar match1to2 = /\\d\\d?/; // 0 - 99\r\n\r\nvar matchSigned = /[+-]?\\d+/; // -inf - inf\r\n\r\nvar matchOffset = /[+-]\\d\\d:?(\\d\\d)?|Z/; // +00:00 -00:00 +0000 or -0000 +00 or Z\r\n\r\nvar matchWord = /\\d*[^\\s\\d-_:/()]+/; // Word\r\n\r\nvar locale = {};\r\n\r\nvar parseTwoDigitYear = function parseTwoDigitYear(input) {\r\n    input = +input;\r\n    return input + (input > 68 ? 1900 : 2000);\r\n};\r\n\r\nfunction offsetFromString(string) {\r\n    if (!string) return 0;\r\n    if (string === 'Z') return 0;\r\n    var parts = string.match(/([+-]|\\d\\d)/g);\r\n    var minutes = +(parts[1] * 60) + (+parts[2] || 0);\r\n    return minutes === 0 ? 0 : parts[0] === '+' ? -minutes : minutes; // eslint-disable-line no-nested-ternary\r\n}\r\n\r\nvar addInput = function addInput(property) {\r\n    return function (input) {\r\n        this[property] = +input;\r\n    };\r\n};\r\n\r\nvar zoneExpressions = [matchOffset, function (input) {\r\n    var zone = this.zone || (this.zone = {});\r\n    zone.offset = offsetFromString(input);\r\n}];\r\n\r\nvar getLocalePart = function getLocalePart(name) {\r\n    var part = locale[name];\r\n    return part && (part.indexOf ? part : part.s.concat(part.f));\r\n};\r\n\r\nvar meridiemMatch = function meridiemMatch(input, isLowerCase) {\r\n    var isAfternoon;\r\n    var _locale = locale,\r\n        meridiem = _locale.meridiem;\r\n\r\n    if (!meridiem) {\r\n        isAfternoon = input === (isLowerCase ? 'pm' : 'PM');\r\n    } else {\r\n        for (var i = 1; i <= 24; i += 1) {\r\n            // todo: fix input === meridiem(i, 0, isLowerCase)\r\n            if (input.indexOf(meridiem(i, 0, isLowerCase)) > -1) {\r\n                isAfternoon = i > 12;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    return isAfternoon;\r\n};\r\n\r\nvar expressions = {\r\n    A: [matchWord, function (input) {\r\n        this.afternoon = meridiemMatch(input, false);\r\n    }],\r\n    a: [matchWord, function (input) {\r\n        this.afternoon = meridiemMatch(input, true);\r\n    }],\r\n    S: [match1, function (input) {\r\n        this.milliseconds = +input * 100;\r\n    }],\r\n    SS: [match2, function (input) {\r\n        this.milliseconds = +input * 10;\r\n    }],\r\n    SSS: [match3, function (input) {\r\n        this.milliseconds = +input;\r\n    }],\r\n    s: [match1to2, addInput('seconds')],\r\n    ss: [match1to2, addInput('seconds')],\r\n    m: [match1to2, addInput('minutes')],\r\n    mm: [match1to2, addInput('minutes')],\r\n    H: [match1to2, addInput('hours')],\r\n    h: [match1to2, addInput('hours')],\r\n    HH: [match1to2, addInput('hours')],\r\n    hh: [match1to2, addInput('hours')],\r\n    D: [match1to2, addInput('day')],\r\n    DD: [match2, addInput('day')],\r\n    Do: [matchWord, function (input) {\r\n        var _locale2 = locale,\r\n            ordinal = _locale2.ordinal;\r\n\r\n        var _input$match = input.match(/\\d+/);\r\n\r\n        this.day = _input$match[0];\r\n        if (!ordinal) return;\r\n\r\n        for (var i = 1; i <= 31; i += 1) {\r\n            if (ordinal(i).replace(/\\[|\\]/g, '') === input) {\r\n                this.day = i;\r\n            }\r\n        }\r\n    }],\r\n    M: [match1to2, addInput('month')],\r\n    MM: [match2, addInput('month')],\r\n    MMM: [matchWord, function (input) {\r\n        var months = getLocalePart('months');\r\n        var monthsShort = getLocalePart('monthsShort');\r\n        var matchIndex = (monthsShort || months.map(function (_) {\r\n            return _.substr(0, 3);\r\n        })).indexOf(input) + 1;\r\n\r\n        if (matchIndex < 1) {\r\n            throw new Error();\r\n        }\r\n\r\n        this.month = matchIndex % 12 || matchIndex;\r\n    }],\r\n    MMMM: [matchWord, function (input) {\r\n        var months = getLocalePart('months');\r\n        var matchIndex = months.indexOf(input) + 1;\r\n\r\n        if (matchIndex < 1) {\r\n            throw new Error();\r\n        }\r\n\r\n        this.month = matchIndex % 12 || matchIndex;\r\n    }],\r\n    Y: [matchSigned, addInput('year')],\r\n    YY: [match2, function (input) {\r\n        this.year = parseTwoDigitYear(input);\r\n    }],\r\n    YYYY: [match4, addInput('year')],\r\n    yyyy:function getFromLocale(){\r\n        //用了?. optional chaining 取代這種寫法 locale.parse && locale.parse.localeEra, ?.也可用作型別檢查並呼叫等操作\r\n        var handle =  locale?.parse?.localeEra?locale.parse.localeEra:[match4, addInput('year')]\r\n        return handle\r\n    },\r\n    yy:function getFromLocale(){\r\n        var defaultAddInput = function (input) {this.year = parseTwoDigitYear(input)};\r\n        var handle =  locale?.parse?.localeEra?locale.parse.localeEraShort:[match2, defaultAddInput]\r\n        return handle\r\n    },\r\n    Z: zoneExpressions,\r\n    ZZ: zoneExpressions\r\n};\r\n\r\nfunction correctHours(time) {\r\n    var afternoon = time.afternoon;\r\n\r\n    if (afternoon !== undefined) {\r\n        var hours = time.hours;\r\n\r\n        if (afternoon) {\r\n            if (hours < 12) {\r\n                time.hours += 12;\r\n            }\r\n        } else if (hours === 12) {\r\n            time.hours = 0;\r\n        }\r\n\r\n        delete time.afternoon;\r\n    }\r\n}\r\n\r\nfunction makeParser(format) {\r\n    format = u(format, locale && locale.formats);\r\n    var array = format.match(formattingTokens);\r\n    var length = array.length;\r\n\r\n    for (var i = 0; i < length; i += 1) {\r\n        var token = array[i];\r\n        var parseTo = expressions[token];\r\n        if (typeof parseTo===\"function\"){parseTo = parseTo()}//format get from locale setting\r\n        var regex = parseTo && parseTo[0];\r\n        var parser = parseTo && parseTo[1];\r\n        if (parser) {\r\n            array[i] = {\r\n                regex: regex,\r\n                parser: parser\r\n            };\r\n        } else {\r\n            array[i] = token.replace(/^\\[|\\]$/g, '');\r\n        }\r\n    }\r\n\r\n    return function (input) {\r\n        var time = {};\r\n\r\n        for (var _i = 0, start = 0; _i < length; _i += 1) {\r\n            var _token = array[_i];\r\n\r\n            if (typeof _token === 'string') {\r\n                start += _token.length;\r\n            } else {\r\n                var _regex = _token.regex,\r\n                    _parser = _token.parser;\r\n                var part = input.substr(start);\r\n\r\n                var match = _regex.exec(part);\r\n                // console.log(_regex,match)\r\n                var value = match[0];\r\n\r\n                _parser.call(time, value);\r\n\r\n                input = input.replace(value, '');\r\n            }\r\n        }\r\n\r\n        correctHours(time);\r\n        return time;\r\n    };\r\n}\r\n\r\nvar parseFormattedInput = function parseFormattedInput(input, format, utc) {\r\n    try {\r\n        if (['x', 'X'].indexOf(format) > -1) return new Date((format === 'X' ? 1000 : 1) * input);\r\n        var parser = makeParser(format);\r\n\r\n        var _parser2 = parser(input),\r\n            year = _parser2.year,\r\n            month = _parser2.month,\r\n            day = _parser2.day,\r\n            hours = _parser2.hours,\r\n            minutes = _parser2.minutes,\r\n            seconds = _parser2.seconds,\r\n            milliseconds = _parser2.milliseconds,\r\n            zone = _parser2.zone;\r\n\r\n        var now = new Date();\r\n        var d = day || (!year && !month ? now.getDate() : 1);\r\n        var y = year || now.getFullYear();\r\n        var M = 0;\r\n\r\n        if (!(year && !month)) {\r\n            M = month > 0 ? month - 1 : now.getMonth();\r\n        }\r\n\r\n        var h = hours || 0;\r\n        var m = minutes || 0;\r\n        var s = seconds || 0;\r\n        var ms = milliseconds || 0;\r\n\r\n        if (zone) {\r\n            return new Date(Date.UTC(y, M, d, h, m, s, ms + zone.offset * 60 * 1000));\r\n        }\r\n\r\n        if (utc) {\r\n            return new Date(Date.UTC(y, M, d, h, m, s, ms));\r\n        }\r\n\r\n        return new Date(y, M, d, h, m, s, ms);\r\n    } catch (e) {\r\n        console.log(e)\r\n        return new Date(''); // Invalid Date\r\n    }\r\n};\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (o, C, d) {\r\n    //C means Dayjs  //d means dayjs //o means options()\r\n    d.p.customParseFormat = true;\r\n\r\n    if (o && o.parseTwoDigitYear) {\r\n        parseTwoDigitYear = o.parseTwoDigitYear;\r\n    }\r\n\r\n    var proto = C.prototype;\r\n    var oldParse = proto.parse;\r\n\r\n    proto.parse = function (cfg) {\r\n        var date = cfg.date,\r\n            utc = cfg.utc,\r\n            args = cfg.args;\r\n        this.$u = utc;\r\n        var format = args[1];\r\n\r\n        if (typeof format === 'string') {\r\n            var isStrictWithoutLocale = args[2] === true;\r\n            var isStrictWithLocale = args[3] === true;\r\n            var isStrict = isStrictWithoutLocale || isStrictWithLocale;\r\n            var pl = args[2];\r\n\r\n            if (isStrictWithLocale) {\r\n                pl = args[2];\r\n            }\r\n\r\n            locale = this.$locale();\r\n\r\n            if (!isStrictWithoutLocale && pl) {\r\n                locale = d.Ls[pl];\r\n            }\r\n\r\n            // console.log(\"localeNow\",locale.name)\r\n\r\n            this.$d = parseFormattedInput(date, format, utc);\r\n            this.init();\r\n            if (pl && pl !== true) this.$L = this.locale(pl).$L;\r\n            if (isStrict && date !== this.format(format)) {\r\n                this.$d = new Date('');\r\n            } // reset global locale to make parallel unit test\r\n\r\n\r\n            locale = {};\r\n        } else if (format instanceof Array) {\r\n            var len = format.length;\r\n\r\n            for (var i = 1; i <= len; i += 1) {\r\n                args[1] = format[i - 1];\r\n                var result = d.apply(this, args);\r\n\r\n                if (result.isValid()) {\r\n                    this.$d = result.$d;\r\n                    this.$L = result.$L;\r\n                    this.init();\r\n                    break;\r\n                }\r\n\r\n                if (i === len) this.$d = new Date('');\r\n            }\r\n        } else {\r\n            oldParse.call(this, cfg);\r\n        }\r\n    };\r\n});\n\n//# sourceURL=webpack:///./src/util_time/parseFormat.mjs?");

/***/ }),

/***/ "./src/util_time/toDate.mjs":
/*!**********************************!*\
  !*** ./src/util_time/toDate.mjs ***!
  \**********************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"isDateTime\": function() { return /* binding */ isDateTime; },\n/* harmony export */   \"toDatetime\": function() { return /* binding */ toDatetime; }\n/* harmony export */ });\n/* harmony import */ var _initDayjs_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./initDayjs.mjs */ \"./src/util_time/initDayjs.mjs\");\n\r\n//不直接從node_module引入dayjs  因為initDayjs中有引入plugin等的副作用\r\n//(module的sideEffect只會被執行一次,即使重複被不同模組import)\r\n\r\n\r\nfunction isDateTime(string,dateTimeFormats=[\"YYYY-MM-DD\"],era){\r\n    var dateTime = (0,_initDayjs_mjs__WEBPACK_IMPORTED_MODULE_0__.dayjs)(string,dateTimeFormats)\r\n    return dateTime.isValid()?true:false\r\n}\r\n\r\nfunction toDatetime(string,dateTimeFormats=[\"YYYY-MM-DD\"],locale=\"en\"){\r\n\r\n    var dateTime = (0,_initDayjs_mjs__WEBPACK_IMPORTED_MODULE_0__.dayjs)(string,dateTimeFormats,_initDayjs_mjs__WEBPACK_IMPORTED_MODULE_0__.locales[locale])\r\n\r\n    // console.log(dayjs(string).isValid())\r\n    // console.log(dateTime.isValid(),string,dateTimeFormats)\r\n    return dateTime.isValid()?dateTime.$d:string\r\n    //dateTime.$d為Date物件 返回原始物件才可緩存於indexeddb或傳遞給dataOps\r\n}\r\n\r\n\r\n\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat/DateTimeFormat\r\n// https://day.js.org/docs/zh-CN/parse/string-format\r\n// https://day.js.org/docs/en/i18n/locale-data\n\n//# sourceURL=webpack:///./src/util_time/toDate.mjs?");

/***/ })

}]);